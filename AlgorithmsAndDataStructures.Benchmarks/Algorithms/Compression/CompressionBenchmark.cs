using AlgorithmsAndDataStructures.Algorithms.Compression;
using BenchmarkDotNet.Attributes;

namespace AlgorithmsAndDataStructures.Benchmarks.Algorithms.Compression;

[HtmlExporter]
[RPlotExporter]
[CsvMeasurementsExporter]
[MarkdownExporterAttribute.GitHub]
public class CompressionBenchmark
{
    private static readonly string Data =
        "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";

    private readonly HuffmanCodeCompression huffmanCodeCompression;
    private readonly LzwCompression lzwCompression;

    public CompressionBenchmark()
    {
        huffmanCodeCompression = new HuffmanCodeCompression();
        lzwCompression = new LzwCompression();
    }

    [Benchmark(Baseline = true)]
    public void HuffmanCodeCompression()
    {
        var _ = huffmanCodeCompression.Decompress(huffmanCodeCompression.Compress(Data).Compressed,
            huffmanCodeCompression.Compress(Data).HuffmanEncodingTree);
    }

    [Benchmark]
    public void LzwCompression()
    {
        var _ = lzwCompression.Decompress(lzwCompression.Compress(Data));
    }
}